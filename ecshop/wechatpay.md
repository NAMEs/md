##微信支付记录

android：  
安卓是点击微信支付按钮之后，由后端请求下单接口；支付成功之后由微信返回支付状态给app端；  
现在的问题是：支付成功之后安卓没有传个支付结果到后端，以致无法正常显示支付结果；


ios：  
苹果是点击支付按钮之后，还是由后端请求下单接口，然后返回与支付订单等信息给到app，之后由app调起支付，支付成功之后是跳转到订单列表页面；  


##微信app支付流程

![微信app官方支付业务流程](https://pay.weixin.qq.com/wiki/doc/api/img/chapter8_3_1.png) 


##微信公众号支付流程
![微信公众号支付流程](https://pay.weixin.qq.com/wiki/doc/api/img/chapter7_4_1.png)





微信的公众号支付和app支付都是通过统一下单接口来获取预支付id的，但是两种不同的支付方式的appid和密钥等信息都不同（具体见开发文档），传到统一下单接口中的参数只有sign这个参数里面含有密钥，而这个sign只能在服务端进行；